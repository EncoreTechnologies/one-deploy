# Context variables generated by one-deploy
DISK_ID='1'
GROW_ROOTFS='{{ context.GROW_ROOTFS | d("yes") }}'
GROW_FS='{{ context.GROW_FS | d("/") }}'
NETWORK='{{ context.NETWORK | default('YES') }}'
PRESERVE_HOSTNAME='{{ context.PRESERVE_HOSTNAME | d("no") }}'
PASSWORD='{{ context.PASSWORD | d("opennebula") }}'
SET_HOSTNAME='{{ context.SET_HOSTNAME | d(frontend) }}'
SSH_PUBLIC_KEY='{{ context.SSH_PUBLIC_KEY | d("") }}'
TARGET='hda'

{% for ctx in context_networks %}
{% set idx = loop.index0 %}
ETH{{ idx }}_DNS='{{ ctx.dns }}'
{% if ctx.gateway is defined %}
ETH{{ idx }}_GATEWAY='{{ ctx.gateway }}'
{% endif %}
ETH{{ idx }}_IP='{{ ctx.ip }}'
ETH{{ idx }}_MAC='{{ ctx.mac | d("02:01:%02x:%02x:%02x:%02x" | format(*(ctx.ip.split(".") | map("int")))) }}'
ETH{{ idx }}_MASK='{{ ctx.mask }}'
ETH{{ idx }}_NETWORK='{{ ctx.network }}'

{% endfor %}